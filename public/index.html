<!DOCTYPE html>
<html>

<head>
  <title>Matriculated Exam Results</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href='https://mmwebfonts.comquas.com/fonts/?font=pyidaungsu' />
  <style>
    body {
      margin: 0;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
    }

    .topnav {
      overflow: hidden;
      background-color: #008000;
    }

    .topnav a {
      display: block;
      color: black;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    }

    .topnav a:hover {
      background-color: #ddd;
      color: black;
    }

    .topnav a.active {
      background-color: #008000;
      color: white;
    }


    .main {
      padding: 16px;
    }

    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    td {
      text-align: left;
      padding: 8px;
    }

    .clickable-row {
      font-family: Pyidaungsu;
      color: #008000;
    }

    tr {
      cursor: pointer;
      cursor: hand;
      border: 1px solid #dddddd;
      border-collapse: collapse;
    }

    .badge-primary {
      font-size: 75%;
      font-weight: 700;
      line-height: 1;
      color: #fff;
      background-color: #008000;
    }

    .badge-pill {
      border-radius: 10rem;
    }

    .badge {
      display: inline-block;
      padding: .30em .5em;
      text-align: center;
      white-space: nowrap;
      vertical-align: baseline;
    }

    * {
      box-sizing: border-box;
    }

    /* Sidebar */
    .sidenav {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #111;
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }

    .sidenav a {
      padding: 8px 8px 8px 32px;
      text-decoration: none;
      font-size: 25px;
      color: #818181;
      display: block;
      transition: 0.3s;
    }

    .sidenav div {
      padding: 8px 8px 8px 32px;
      text-decoration: none;
      color: #818181;
      display: block;
      position: absolute;
      bottom: 0;
      left: 0;
      transition: 0.3s;
    }

    .sidenav a:hover {
      color: #f1f1f1;
    }

    .sidenav .closebtn {
      position: absolute;
      top: 0;
      right: 25px;
      font-size: 36px;
      margin-left: 50px;
    }

    @media screen and (max-height: 450px) {
      .sidenav {
        padding-top: 15px;
      }

      .sidenav a {
        font-size: 18px;
      }
    }

    #dev {
      float: left;
    }

    #snackbar {
      visibility: hidden;
      min-width: 250px;
      margin-left: -125px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 2px;
      padding: 16px;
      position: fixed;
      z-index: 1;
      left: 50%;
      bottom: 30px;
      font-size: 17px;
    }

    /* snackbar */

    #snackbar.show {
      visibility: visible;
      -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
      animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }

    @-webkit-keyframes fadein {
      from {
        bottom: 0;
        opacity: 0;
      }

      to {
        bottom: 30px;
        opacity: 1;
      }
    }

    @keyframes fadein {
      from {
        bottom: 0;
        opacity: 0;
      }

      to {
        bottom: 30px;
        opacity: 1;
      }
    }

    @-webkit-keyframes fadeout {
      from {
        bottom: 30px;
        opacity: 1;
      }

      to {
        bottom: 0;
        opacity: 0;
      }
    }

    @keyframes fadeout {
      from {
        bottom: 30px;
        opacity: 1;
      }

      to {
        bottom: 0;
        opacity: 0;
      }
    }

    .overlay3 {
      height: 100%;
      width: 0;
      position: fixed;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.9);
      overflow-y: auto;
      overflow-x: hidden;
      text-align: center;
      opacity: 0;
      transition: opacity 1s;
    }

    #clock {
      font-family: Pyidaungsu;
      text-align: center;
      color: #008000;
    }

    #search {
      font-family: Pyidaungsu;
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
    }
  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170070020-1"></script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-170070020-1');
  </script>

<link rel="me" href="https://www.blogger.com/profile/14235855761004650833" />
</head>

<body>
  <div id="myCanvasNav" class="overlay3" onclick="closeNav()"></div>
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="?year=2020">2020</a>
    <a href="?year=2019">2019</a>
    <a href="?year=2018">2018</a>
    <a href="?year=2017">2017</a>
    <a href="?year=2016">2016</a>
  </div>

  <div class="topnav">
    <a class="active" style="cursor:pointer;float: left;" onclick="openNav()">&#9776;</a>
    <a class="active" style="float: right;" onclick="return loadHome();try{xLol.showAds();}catch(e){}"
      href="#home"><i class="fa fa-home"></i></a>
  </div>
  <div class="main">
    <input id="search" type="text" placeholder="မြို့နယ်အမည် သို့မဟုတ် စာစစ်ဌာနအမှတ်ဖြင့်ရှာရန်..." name="search">
    <table>
      <tbody id="main">

      </tbody>
    </table>
  </div>

  <div id="snackbar">Some text some message..</div>
  <script type="text/javascript">
    var home = false;


    function letExit() {
      if (!home) {
        loadHome();
      } else {
        try { xLol.canExit(home) } catch (e) { };
      }
    }
    function closeSnackBar() {
      var x = document.getElementById("snackbar");
      x.className = x.className.replace("show", "");
    }
    function showSnackBar(message, autoClose) {
      var x = document.getElementById("snackbar");
      if (message) {
        x.innerHTML = message;
      }
      x.className = "show";
      setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000);
    }

    function isMyApp() {
      return true;
      if (navigator.userAgent.match(/wv/i)) {
        if (navigator.userAgent.match(/com./i)) {
          return true;
        }
        return false;
      }
    }

    if (!isMyApp()) {
      showSnackBar('ERROR 404');
      try {
        document.write(`<p><span style="color: #ff0000;"><strong>ဝမ်းနည်းပါတယ်။</strong></span></p>
<p>ယခုအက်ပလီကေးရှင်းဖြင့်အောင်စာရင်းကြည့်လို့မရနိုင်ပါ။<br />အောက်ပါပုံမှာပြထားသည့်<br />" <strong>အောင်စာရင်း - Myanmar Exam Result</strong> " ကို<br />Play Store မှတစ်ဆင့်ဒေါင်းယူအသုံးပြုပေးပါ။</p>
<p><img src="https://i.imgur.com/fmA3d1T.png" alt="" width="301" height="394" /></p>`);
      } catch (e) {

      }
    } else {
      var getJSON = function (url, callback) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.responseType = 'json';
        xhr.onloadend = e => { closeSnackBar(); console.log(`Completed ${e.loaded}`, e); }
        xhr.onloadstart = e => { console.log(`Started`, e); showSnackBar('Getting data...') }
        xhr.onprogress = e => { console.log(`Loaded ${e.loaded} bytes`, e); }
        xhr.onload = function () {
          var status = xhr.status;
          if (status === 200) {
            callback(null, xhr.response);
          } else {
            callback(status, xhr.response);
          }
        };
        xhr.send();
      };

      var yearOfJs = '2020', years, year;

      var url = new URL(window.location.href);
      if (url.searchParams.get("year")) {
        var tmp = url.searchParams.get("year");
        if (tmp.match(/^\d*(\.\d+)?$/)) {
          yearOfJs = tmp;
        }
      }
      yearOfJs = yearOfJs + '.json';

      getJSON('https://rawcdn.githack.com/KhunHtetzNaing/ExamResult/937b2c356307218f0a676fe350d2b7687e37419a/web/' + yearOfJs,
        function (err, data) {
          if (err !== null) {
            alert('Something went wrong: ' + err);
          } else {
            years = data.years;
            year = data.year;
            loadHome();
          }
        });

      function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        var cvas = document.getElementsByClassName('overlay3').item(0);
        cvas.style.width = '100%';
        cvas.style.opacity = '0.8';
      }

      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        var cvas = document.getElementsByClassName('overlay3').item(0);
        cvas.style.width = '0%';
        cvas.style.opacity = '0';
      }

      function loadHome() {
        home = true;
        document.getElementById('main').innerHTML = '';
        for (var k in years) {
          document.getElementById('main').insertAdjacentHTML('beforeend', `
                <tr class="clickable-row" 
                onclick="showExam(`+ k + `);">
                <td>`+ years[k].no + `</td>
                <td>` + years[k].name + `</td>
                <td width="20px">
                    <span class="badge badge-primary badge-pill">`+ year + `</span>
                </td></tr>`);
        }
        return false;
      }

      function showExam(k) {
        home = false;
        if (years[k].href) {
          window.location = years[k].href;
        } else {
          var json = years[k].cities;
          document.getElementById('main').innerHTML = '';
          for (var k in json) {
            document.getElementById('main').insertAdjacentHTML('beforeend', `
                <tr class="clickable-row" 
                onclick="window.location = '`+ json[k].href + `';">
                <td>`+ json[k].no + `။</td>
                <td>` + json[k].name + `</td>
                <td width="20px">
                    <span class="badge">`+ json[k].table_no + `</span>
                </td></tr>`);
          }
          changeColor();
        }
      }

      function changeColor() {
        var colors = ['blue', 'green', 'red', 'blueviolet', 'coral', 'chocolate', 'cornflowerblue', 'orange'];
        var clr = colors[Math.floor(Math.random() * colors.length)];
        document.querySelectorAll('.clickable-row').forEach((e) => {
          e.style.color = clr;
        });

        document.querySelectorAll('.badge-primary').forEach((e) => {
          e.style.backgroundColor = clr;
        });
      }

      try {
        xLol.ok('aWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPSJ0b29sYmFyIl0nKSkgewogICAgdmFyIHRvb2xiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbcm9sZT0idG9vbGJhciJdJyk7CiAgICB0b29sYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmZvckVhY2goKGUpID0+IHsKICAgICAgICBlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9KTsKfQ==');
      } catch (e) {

      }


      //Search
      var search = document.getElementById('search');
      search.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          searchMe(search.value);
        }
      });

      if (search.addEventListener) {
        search.addEventListener('input', function () {
          if (isMobile()) searchMe(search.value);
        }, false);
      } else if (search.attachEvent) {
        search.attachEvent('onpropertychange', function () {
          // IE
          if (isMobile()) searchMe(search.value);
        });
      }

      function isMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      }

      function searchMe(trg) {
        home = false;
        if (trg != "") {
          document.getElementById('main').innerHTML = '';
          for (var i in years) {
            var json = years[i].cities;
            for (var k in json) {
              if (json[k].table_no.indexOf(trg) != -1 || json[k].name.indexOf(trg) != -1) {
                document.getElementById('main').insertAdjacentHTML('beforeend', `
                <tr class="clickable-row" 
                onclick="window.location = '`+ json[k].href + `';">
                <td>`+ json[k].no + `။</td>
                <td>` + json[k].name + `</td>
                <td width="20px">
                    <span class="badge">`+ json[k].table_no + `</span>
                </td></tr>`);
              }
            }
          }
          changeColor();
        } else loadHome();
      }
    }

  </script>

</body>

</html>
